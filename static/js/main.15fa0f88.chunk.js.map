{"version":3,"sources":["Tree.js","AsciiTree.js","index.js"],"names":["getNodeKey","_ref","treeIndex","renderTitle","node","setTreeData","treeData","path","react_default","a","createElement","value","title","onChange","event","target","changeNodeAtPath","newNode","_objectSpread","renderNodeButtons","rmButton","key","onClick","removeNodeAtPath","mkdirButton","addNodeUnderParent","parentKey","length","expandParent","isDirectory","touchButton","Tree","_ref2","index_esm","isVirtualized","theme","FileExplorerTheme","canNodeHaveChildren","generateNodeProps","_ref3","icons","expanded","buttons","concat","Object","toConsumableArray","renderTree","withEmoji","isCompact","renderChildTree","arguments","undefined","prefix","level","result","isRoot","forEach","leaf","index","hasNextSibling","indent","renderIndent","childPrefix","parentPrefix","parentHasNextSibling","spaceIndent","extraSpaceForChildOnly","renderChildPrefix","renderLeaf","children","AsciiTree","style","lineHeight","rootElement","document","getElementById","ReactDOM","render","_React$useState","React","useState","_React$useState2","slicedToArray","isEmoji","setIsEmoji","_React$useState3","_React$useState4","setIsCompact","_React$useState5","_React$useState6","className","src_Tree","type","checked","e","src_AsciiTree"],"mappings":"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","file":"static/js/main.15fa0f88.chunk.js","sourcesContent":["import React from 'react'\nimport SortableTree, {\n  changeNodeAtPath,\n  removeNodeAtPath,\n  addNodeUnderParent,\n} from 'react-sortable-tree'\nimport FileExplorerTheme from 'react-sortable-tree-theme-file-explorer'\n\nconst getNodeKey = ({ treeIndex }) => treeIndex\n\nconst renderTitle = (node, setTreeData, treeData, path) => {\n  return (\n    <input\n      value={node.title}\n      onChange={event => {\n        const title = event.target.value\n\n        setTreeData(\n          changeNodeAtPath({\n            treeData,\n            path,\n            getNodeKey,\n            newNode: { ...node, title },\n          }),\n        )\n      }}\n    />\n  )\n}\n\nconst renderNodeButtons = (node, setTreeData, treeData, path) => {\n  const rmButton = (\n    <button\n      key=\"remove\"\n      onClick={() =>\n        setTreeData(\n          removeNodeAtPath({\n            treeData,\n            path,\n            getNodeKey,\n          }),\n        )\n      }\n    >\n      rm\n    </button>\n  )\n\n  const mkdirButton = (\n    <button\n      onClick={() =>\n        setTreeData(\n          addNodeUnderParent({\n            treeData,\n            parentKey: path[path.length - 1],\n            expandParent: true,\n            getNodeKey,\n            newNode: {\n              title: '',\n              isDirectory: true,\n            },\n          }).treeData,\n        )\n      }\n    >\n      mkdir\n    </button>\n  )\n\n  const touchButton = (\n    <button\n      onClick={() =>\n        setTreeData(\n          addNodeUnderParent({\n            treeData,\n            parentKey: path[path.length - 1],\n            expandParent: true,\n            getNodeKey,\n            newNode: {\n              title: '',\n            },\n          }).treeData,\n        )\n      }\n    >\n      touch\n    </button>\n  )\n\n  return node.isDirectory ? [mkdirButton, touchButton, rmButton] : [rmButton]\n}\n\nfunction Tree({ value: treeData, onChange: setTreeData }) {\n  return (\n    <div>\n      <SortableTree\n        isVirtualized={false}\n        treeData={treeData}\n        onChange={setTreeData}\n        theme={FileExplorerTheme}\n        canNodeHaveChildren={node => node.isDirectory}\n        generateNodeProps={({ node, path }) => ({\n          icons: node.isDirectory ? [node.expanded ? '📂' : '📁'] : ['📄'],\n          buttons: renderNodeButtons(node, setTreeData, treeData, path),\n          title: renderTitle(node, setTreeData, treeData, path),\n        })}\n      />\n      <button\n        onClick={() =>\n          setTreeData([\n            ...treeData,\n            {\n              title: '',\n              isDirectory: true,\n            },\n          ])\n        }\n      >\n        mkdir\n      </button>\n    </div>\n  )\n}\n\nexport default Tree\n","import React from 'react'\n\nfunction renderIndent(isRoot, prefix, hasNextSibling, isCompact) {\n  let result = ''\n\n  if (!isRoot) {\n    result += prefix\n\n    if (hasNextSibling) {\n      result += isCompact ? '├─ ' : '├── '\n    } else {\n      result += isCompact ? '└─ ' : '└── '\n    }\n  }\n\n  return result\n}\n\nfunction renderTree(treeData, withEmoji, isCompact) {\n  return renderChildTree(treeData, undefined, undefined, withEmoji, isCompact)\n}\n\nfunction renderLeaf(leaf, withEmoji) {\n  if (withEmoji) {\n    return `${leaf.isDirectory ? '📂' : '📄'}${leaf.title}`\n  } else {\n    return leaf.title\n  }\n}\n\nfunction renderChildPrefix(\n  isRoot,\n  parentPrefix,\n  parentHasNextSibling,\n  isCompact,\n) {\n  const spaceIndent = isCompact ? '  ' : '   '\n  const childIndent = isRoot ? '' : spaceIndent\n  const extraSpaceForChildOnly = !isRoot && !parentHasNextSibling ? ' ' : ''\n\n  return (\n    parentPrefix +\n    (parentHasNextSibling ? '|' : extraSpaceForChildOnly) +\n    childIndent\n  )\n}\n\nfunction renderChildTree(\n  treeData = [],\n  prefix = '',\n  level = 0,\n  withEmoji,\n  isCompact,\n) {\n  let result = ''\n  const isRoot = level === 0\n\n  treeData.forEach((leaf, index) => {\n    const hasNextSibling = treeData.length > index + 1\n    const indent = renderIndent(isRoot, prefix, hasNextSibling, isCompact)\n    const childPrefix = renderChildPrefix(\n      isRoot,\n      prefix,\n      hasNextSibling,\n      isCompact,\n    )\n\n    result += indent + renderLeaf(leaf, withEmoji) + '\\n'\n    result += renderChildTree(\n      leaf.children,\n      childPrefix,\n      level + 1,\n      withEmoji,\n      isCompact,\n    )\n  })\n\n  return result\n}\n\nfunction AsciiTree({ value, withEmoji, isCompact }) {\n  return (\n    <pre style={{ lineHeight: '1.2' }}>\n      {renderTree(value, withEmoji, isCompact)}\n    </pre>\n  )\n}\n\nexport default AsciiTree\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport Tree from './Tree'\nimport AsciiTree from './AsciiTree'\nimport './styles.css'\n\nfunction App() {\n  const [isEmoji, setIsEmoji] = React.useState(false)\n  const [isCompact, setIsCompact] = React.useState(false)\n  const [treeData, setTreeData] = React.useState([\n    {\n      title: 'root',\n      isDirectory: true,\n      expanded: true,\n      children: [\n        {\n          title: 'hello',\n          isDirectory: true,\n          expanded: true,\n          children: [\n            {\n              title: 'bar.js',\n            },\n            {\n              title: 'baz.js',\n            },\n            {\n              title: 'hello2',\n              isDirectory: true,\n              expanded: true,\n              children: [{ title: 'Маруся.jpg' }],\n            },\n          ],\n        },\n        {\n          title: 'world.js',\n        },\n      ],\n    },\n  ])\n\n  return (\n    <div className=\"App\">\n      <h1>File tree generator</h1>\n      <p className=\"description\">\n        Inspired by <code>tree</code>.\n      </p>\n      <h2>Structure</h2>\n      <Tree value={treeData} onChange={setTreeData} />\n      <h2>Result</h2>\n      <label className=\"option\">\n        <input\n          type=\"checkbox\"\n          checked={isEmoji}\n          onChange={e => setIsEmoji(e.target.checked)}\n        />\n        Emoji\n      </label>\n      <label className=\"option\">\n        <input\n          type=\"checkbox\"\n          checked={isCompact}\n          onChange={e => setIsCompact(e.target.checked)}\n        />\n        Compact\n      </label>\n      <AsciiTree value={treeData} withEmoji={isEmoji} isCompact={isCompact} />\n    </div>\n  )\n}\n\nconst rootElement = document.getElementById('root')\nReactDOM.render(<App />, rootElement)\n"],"sourceRoot":""}